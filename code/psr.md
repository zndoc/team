# PSR стандарты

## Преимущества использования PSR

Сама аббревиатура PSR вышла за рамки простых рекомендаций относительно стиля кодирования. А группа PHP-FIG предлагает стандарты, которые предоставляют действительно мощную абстракцию для решения базовых проблем с переиспользованием различных инструментов и позволяет сделать код более независимым от конкретных реализаций и фреймворков (на практике все куда сложнее, но фундамент уже заложен).

Стандартизация в виде интерфейсов предоставляет возможность выбора любой имплементированной реализации. Также можно существенно облегчить написание документации ссылаясь на хорошо описанные PSR спецификации.

PSR — это действительно годные стандарты, которые созданы для того, чтобы решать проблемы переиспользования кода и облегчить совместную разработку.

## PSR-0 — Autoloading Standard (Устарел)

Ниже представлены требования, обязательные к исполнению в целях обеспечения совместимости механизмов автозагрузки.

Обязательные требования

* Полностью определённое пространство имён и имя класса должны иметь следующую структуру: \<Vendor Name>\(<Namespace>\)*<Class Name>.
* Каждое пространство имён должно начинаться с пространства имён высшего уровня, указывающего на разработчика кода («имя производителя»).
* Каждое пространство имён может включать в себя неограниченное количество вложенных подпространств имён.
* Каждый разделитель пространства имён при обращении к файловой системе преобразуется в РАЗДЕЛИТЕЛЬ_ИМЁН_КАТАЛОГОВ.
* Каждый символ _ («знак подчёркивания») в ИМЕНИ_КЛАССА преобразуется в РАЗДЕЛИТЕЛЬ_ИМЁН_КАТАЛОГОВ. При этом символ _ («знак подчёркивания») не обладает никаким особенным значением в имени пространства имён (и не претерпевает преобразований).
* При обращении к файловой системе полностью определённое пространство имён и имя класса дополняются суффиксом .php.
* В имени производителя, имени пространства имён и имени класса допускается использование буквенных символов в любых комбинациях нижнего и верхнего регистров.


## PSR-1: Basic Coding Standard

Рассмотрим только базовые из PSR-1:

* Использование только тэгов <?php и <?=
* Только UTF-8 без BOM для php кода
* Не стоит мешать разный функционал в одном файле (1 файл = 1 класс)
* Пространство имен и классы должны следовать [PSR-0, PSR-4]
* Классы объявляются в `StudlyCase`
* Константы объявляются в ТАКОМ_ВИДЕ
* Методы объявляются в `camelCase`

## PSR-2 — Coding Style Guide (Устарел)

## PSR-3: Logger Interface

Основная цель данного интерфейса – простым и универсальным способом стандартизировать реализацию логирования. К данному интерфейсу прилагается спецификация, которая описывает в каких случаях какой из методов рекомендуется использовать.

## PSR-4 — Autoloading Standard

Данный стандарт решает некоторые проблемы/ограничения PSR-0 и используется по умолчанию в Composer.

Ссылка на статью, которая подробно описывает работу с пространством имен, решенные проблемы и PSR-4.

## PSR-6: Caching Interface

Кэширование широко используется для повышения производительности любого проекта.

## PSR-7: HTTP Message Interfaces

Цель данного стандарта, предоставить общий набор интерфейсов для фреймворков, чтобы последние могли использовать одинаковые абстракции над Request и Response объектами. Это позволит разработчикам писать переиспользуемый, независимый от фреймворка код.

## PSR-11: Container Interface
Основная цель стандартизировать, как фреймворки и библиотеки будут использовать (DIC) контейнер для доступа к объектам и параметрам. Для этого был описан ContainerInterface.

## PSR-12: Extended Coding Style Guide

Расширенный стандарт стиля кодирования (замена стандарту PSR-2). 

## PSR-13: Hypermedia Links

Не самый популярный стандарт, который предоставляет несколько интерфейсов, чтобы унифицировать общий формат hypermedia ссылок.

## PSR-14: Event Dispatcher

Целью этого PSR является создание общего механизма для диспетчеризации событий, чтобы библиотеки и компоненты могли свободно использоваться в различных приложениях и средах. Для этого предоставляется несколько интерфейсов:
EventDispatcherInterface, ListenerProviderInterface и StoppableEventInterface

Диспетчеризация событий — это распространенный и хорошо протестированный механизм, позволяющий разработчикам легко и последовательно расширять логику приложения. Детально данный стандарт хорошо описывает статья "PSR-14 — главное событие в PHP".
Чтобы попробовать в действии, предлагаю взглянуть на реализацию Symfony Event Dispatcher, YiiSoft Event Dispatcher и другие.

## PSR-15: HTTP Handlers

Спецификация данного стандарта описывает интерфейсы для обработчиков HTTP-запросов
и компонентов промежуточного программного обеспечения HTTP-сервера.

## PSR-16: Simple Cache

Обратите внимание на PSR-6, это действительно «мощная» спецификация для реализации системы кеширования, однако в большинстве проектов такая реализация может оказаться избыточной.

Поэтому был принят PSR-16. Этот более простой подход направлен на создание стандартизированного оптимизированного интерфейса для общих случаев. 

## PSR-17: HTTP Factories

PSR-17 описывает общий стандарт для фабрик, которые создают HTTP-объекты, совместимые с PSR-7.

PSR-7 не содержит рекомендации о том, как создавать HTTP-объекты. Это может приводить к трудностям при необходимости их создания внутри компонентов, которые не привязаны к конкретной реализации PSR-7.

## PSR-18: HTTP Client

PSR-18 описывает общие интерфейсы для отправки PSR-7 HTTP-запросов и получения HTTP-ответов.
ClientInterface, RequestExceptionInterface и NetworkExceptionInterface

Это может сделать библиотеки более пригодными для повторного использования, так как уменьшает количество зависимостей и снижает вероятность конфликтов версий.

Также в спецификации указано, что HTTP-клиенты могут быть заменены согласно принципу подстановки Лисков. Это означает, что все клиенты ДОЛЖНЫ вести себя одинаково при отправке запроса.

Пример реализации PSR-18 можно увидеть в библиотеке Symfony HTTP-client.
